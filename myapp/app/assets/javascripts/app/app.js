'use strict';// app/assets/javascripts/app/app.jsangular.module('myapp', [  'ngRoute',  'ngCookies',  'myapp.controllers',  'myapp.services',  'myapp.directives',])  .config(function($routeProvider, $locationProvider) {    $routeProvider      .when('/user/:user_id',         {          controller: 'ProfileController',          templateUrl: '/templates/profile.html'        })      .when('/user/:user_id/diet',         {          controller: 'DietController',          templateUrl: '/templates/diet.html'        })      .when('/user/:user_id/activity',         {          controller: 'ActivityController',          templateUrl: '/templates/activity.html'        })      .when('/login',         {          controller: 'LoginController',          templateUrl: '/templates/login.html'        })      .when('/patients',         {          controller: 'PatientController',          templateUrl: '/templates/patients.html'        })      .when('/admin',         {//          controller: 'AdminController',          templateUrl: '/templates/admin.html'        })      .when('/patient_home',         {//          controller: 'PatientHomeController',          templateUrl: '/templates/patient_home.html'        })      .when('/groups',         {          controller: 'GroupController',          templateUrl: '/templates/groups.html'        })      .when('/account',         {          controller: 'AccountController',          templateUrl: '/templates/account.html'        })      .when('/about',         {          templateUrl: '/templates/about.html'        })      .when('/contact_us',         {          templateUrl: '/templates/contact_us.html'        })      .when('/faq',         {          templateUrl: '/templates/faq.html'        })      .when('/404',        {          templateUrl: '/404.html'        })      .otherwise({redirectTo: '/404'});    $locationProvider.html5Mode(true);  })//;  .run(function (LoginService, $location, $rootScope, $cookieStore, $http) {    $rootScope.globals = $cookieStore.get('globals') || {};    var user = $cookieStore.get('user');    var userType = $cookieStore.get('userType');    $rootScope.$broadcast("user:set", user);    $rootScope.$broadcast("userType:set", userType);    $rootScope.currentUser = user;    $rootScope.userType = userType;    if ($rootScope.globals.currentUser) {      $http.defaults.headers.common['Authorization'] = 'Basic '+$rootScope.globals.currentUser.authdata;    }        if ($location.path() === "/") {      if ($rootScope.userType === 'admin') {        $location.path("/admin");      }      else if ($rootScope.userType === 'doctor') {        $location.path("/patients");      }      else if ($rootScope.userType === 'patient') {        $location.path("/patient_home");      }      else {        $location.path("/login");      }    }  });